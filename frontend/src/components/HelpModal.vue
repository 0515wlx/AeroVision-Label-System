<template>
  <div v-if="show" class="help-modal-overlay" @click.self="close">
    <div class="help-modal">
      <div class="help-header">
        <h2>ğŸ“– æ“ä½œè¯´æ˜</h2>
        <button class="close-btn" @click="close">Ã—</button>
      </div>

      <div class="help-content">
        <section>
          <h3>ğŸ¯ åŸºæœ¬æ“ä½œ</h3>
          <ul>
            <li><strong>é€‰æ‹©å›¾ç‰‡</strong>ï¼šç³»ç»Ÿè‡ªåŠ¨åŠ è½½å¾…æ ‡æ³¨å›¾ç‰‡</li>
            <li><strong>ç»˜åˆ¶åŒºåŸŸ</strong>ï¼šåœ¨å›¾ç‰‡ä¸ŠæŒ‰ä½é¼ æ ‡å·¦é”®æ‹–åŠ¨ï¼Œæ¡†é€‰æœºèº«æ³¨å†Œå·åŒºåŸŸ</li>
            <li><strong>å¡«å†™ä¿¡æ¯</strong>ï¼šé€‰æ‹©æœºå‹ã€èˆªå¸ï¼Œè¾“å…¥æ³¨å†Œå·ï¼Œè°ƒæ•´æ¸…æ™°åº¦å’Œé®æŒ¡åº¦</li>
            <li><strong>ä¿å­˜æ ‡æ³¨</strong>ï¼šå¡«å†™å®Œæ•´åç‚¹å‡»"ä¿å­˜æ ‡æ³¨"æŒ‰é’®</li>
          </ul>
        </section>

        <section>
          <h3>â­ï¸ è·³è¿‡åŠŸèƒ½</h3>
          <ul>
            <li><strong>è·³è¿‡æ­¤å›¾</strong>ï¼šå°†å›¾ç‰‡æ ‡è®°ä¸ºåºŸå›¾å¹¶æ°¸ä¹…éšè—ï¼Œé€‚ç”¨äºæ— æ³•æ ‡æ³¨çš„å›¾ç‰‡ï¼ˆå¦‚æ¨¡ç³Šã€é”™è¯¯ã€ä¸ç›¸å…³ç­‰ï¼‰</li>
            <li>è·³è¿‡çš„å›¾ç‰‡ä¸ä¼šå†æ¬¡æ˜¾ç¤ºåœ¨å¾…æ ‡æ³¨åˆ—è¡¨ä¸­</li>
            <li>åºŸå›¾ç»Ÿè®¡ä¼šæ˜¾ç¤ºåœ¨"ç»Ÿè®¡"é¡µé¢ä¸­</li>
            <li>è·³è¿‡æ“ä½œéœ€è¦ç¡®è®¤ï¼Œé¿å…è¯¯æ“ä½œ</li>
          </ul>
        </section>

        <section>
          <h3>ğŸ”’ åä½œåŠŸèƒ½</h3>
          <ul>
            <li>ç³»ç»Ÿä¼šè‡ªåŠ¨é”å®šæ­£åœ¨æ ‡æ³¨çš„å›¾ç‰‡ï¼Œé˜²æ­¢ä»–äººåŒæ—¶æ ‡æ³¨</li>
            <li>é”å®šè¶…æ—¶æ—¶é—´ä¸º 10 åˆ†é’Ÿï¼Œè¶…æ—¶åè‡ªåŠ¨é‡Šæ”¾</li>
            <li>å¦‚æœå›¾ç‰‡è¢«ä»–äººé”å®šï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·³åˆ°ä¸‹ä¸€å¼ </li>
          </ul>
        </section>

        <section>
          <h3>ğŸ“Š ç»Ÿè®¡ä¸å¯¼å‡º</h3>
          <ul>
            <li><strong>æŸ¥çœ‹ç»Ÿè®¡</strong>ï¼šåœ¨"ç»Ÿè®¡"é¡µé¢æŸ¥çœ‹å·²æ ‡æ³¨ã€å¾…æ ‡æ³¨ã€å·²è·³è¿‡æ•°é‡åŠåˆ†å¸ƒ</li>
            <li><strong>å¯¼å‡ºæ•°æ®</strong>ï¼š
              <ul>
                <li>å¯¼å‡ºæ ‡æ³¨æ•°æ® (CSV)ï¼šæ ‡æ³¨ä¿¡æ¯è¡¨æ ¼</li>
                <li>å¯¼å‡ºæ ‡æ³¨æ•°æ® (YOLO)ï¼šYOLO æ ¼å¼çš„æ ‡æ³¨æ–‡ä»¶</li>
                <li>å¯¼å‡ºèˆªå¸é…ç½®ï¼šå½“å‰ç³»ç»Ÿä¸­çš„èˆªå¸åˆ—è¡¨</li>
                <li>å¯¼å‡ºæœºå‹é…ç½®ï¼šå½“å‰ç³»ç»Ÿä¸­çš„æœºå‹åˆ—è¡¨</li>
              </ul>
            </li>
          </ul>
        </section>

        <section>
          <h3>âŒ¨ï¸ å¿«æ·æç¤º</h3>
          <ul>
            <li>æ ‡æ³¨æ—¶ç¡®ä¿æ³¨å†Œå·åŒºåŸŸæ¡†é€‰å‡†ç¡®</li>
            <li>æ¸…æ™°åº¦å’Œé®æŒ¡åº¦å¯ä»¥é€šè¿‡æ»‘å—å¿«é€Ÿè°ƒæ•´</li>
            <li>å¦‚éœ€æ·»åŠ æ–°çš„æœºå‹æˆ–èˆªå¸ï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©"+ æ–°å¢"é€‰é¡¹</li>
            <li>æ ‡æ³¨å®Œæˆåä¼šè‡ªåŠ¨è·³åˆ°ä¸‹ä¸€å¼ å›¾ç‰‡</li>
          </ul>
        </section>

        <section>
          <h3>ğŸ“ æ–‡ä»¶å‘½åè§„åˆ™</h3>
          <ul>
            <li>æ ‡æ³¨åçš„æ–‡ä»¶æ ¼å¼ï¼š<code>{æœºå‹ä»£ç }-{åºå·}.{æ‰©å±•å}</code></li>
            <li>ä¾‹å¦‚ï¼š<code>A320-0001.jpg</code>ã€<code>B738-0042.png</code></li>
            <li>åºå·ä» 0001 å¼€å§‹ï¼Œæ¯ä¸ªæœºå‹ç‹¬ç«‹è®¡æ•°</li>
          </ul>
        </section>
      </div>

      <div class="help-footer">
        <label class="no-show-checkbox">
          <input type="checkbox" v-model="dontShowAgain" />
          ä¸å†æ˜¾ç¤ºæ­¤æç¤º
        </label>
        <button class="ok-btn" @click="close">æˆ‘çŸ¥é“äº†</button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, watch } from 'vue'

const props = defineProps({
  show: Boolean
})

const emit = defineEmits(['close'])

const dontShowAgain = ref(false)

const close = () => {
  if (dontShowAgain.value) {
    localStorage.setItem('hideHelpModal', 'true')
  }
  emit('close')
}

watch(() => props.show, (newVal) => {
  if (newVal) {
    dontShowAgain.value = false
  }
})
</script>

<style scoped>
.help-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.help-modal {
  background: #252525;
  border-radius: 12px;
  width: 90%;
  max-width: 800px;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  animation: slideUp 0.3s ease;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.help-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 30px;
  border-bottom: 1px solid #333;
}

.help-header h2 {
  margin: 0;
  color: #fff;
  font-size: 24px;
  font-weight: 500;
}

.close-btn {
  width: 36px;
  height: 36px;
  border: none;
  background: #333;
  color: #aaa;
  font-size: 24px;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.close-btn:hover {
  background: #444;
  color: #fff;
}

.help-content {
  flex: 1;
  overflow-y: auto;
  padding: 24px 30px;
}

.help-content section {
  margin-bottom: 28px;
}

.help-content section:last-child {
  margin-bottom: 0;
}

.help-content h3 {
  margin: 0 0 12px 0;
  color: #4a90d9;
  font-size: 18px;
  font-weight: 500;
}

.help-content ul {
  margin: 0;
  padding-left: 24px;
  color: #ccc;
  line-height: 1.8;
}

.help-content ul ul {
  margin-top: 8px;
}

.help-content li {
  margin-bottom: 8px;
}

.help-content li:last-child {
  margin-bottom: 0;
}

.help-content strong {
  color: #fff;
  font-weight: 500;
}

.help-content code {
  background: #1a1a1a;
  padding: 2px 8px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  color: #4caf50;
}

.help-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 30px;
  border-top: 1px solid #333;
}

.no-show-checkbox {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #aaa;
  font-size: 14px;
  cursor: pointer;
  user-select: none;
}

.no-show-checkbox input[type="checkbox"] {
  cursor: pointer;
}

.ok-btn {
  padding: 10px 32px;
  border: none;
  border-radius: 6px;
  background: #4a90d9;
  color: #fff;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
}

.ok-btn:hover {
  background: #5a9fe9;
}

/* æ»šåŠ¨æ¡æ ·å¼ */
.help-content::-webkit-scrollbar {
  width: 8px;
}

.help-content::-webkit-scrollbar-track {
  background: #1a1a1a;
  border-radius: 4px;
}

.help-content::-webkit-scrollbar-thumb {
  background: #444;
  border-radius: 4px;
}

.help-content::-webkit-scrollbar-thumb:hover {
  background: #555;
}
</style>
